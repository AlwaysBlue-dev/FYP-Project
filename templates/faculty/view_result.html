{% extends 'faculty/fac_menu.html' %}

{% block title %}View Result{% endblock %}

{% block style %}
<style>
table {
    border-collapse: collapse;
    width: 100%;
}

th, td {
    text-align: left;
    padding: 8px;
    white-space:nowrap;
    text-align:center;
}

tr:nth-child(even) {
    background-color: #f2f2f2;
}
</style>
{% endblock %}

{% block body %}
    {% comment %} <h1>Upload Result Data:</h1> {% endcomment %}
    {% if upload_result_data %}
    <div class='container'>
        <table>
            <tr>
                <th>Student</th>
                <th>Course</th>
                <th>Assessment Type</th>
                {% comment %} <th>Assessment Name</th> {% endcomment %}
                <th>CLO's PLO's</th>
                <th>Total Marks</th>
                <th>Obtained Marks</th>
                
                
                <!-- Add more table headers for additional fields -->
            </tr>
            {% for result in upload_result_data %}
                <tr>
                    <td>{{ result.student_name }} <br> ({{result.student_enroll_no}})</td> <!-- Replace 'field1' with the actual field name from the UploadResult model -->
                    <td>{{ result.course }}</td>
                    <td>{{ result.assessment_type }}</td>
                    {% comment %} <td>{{ result.assessment_name }}</td> {% endcomment %}
                    <td>{{ result.mapped_plos_clos_cover }}</td>
                    <td>{{ result.total_marks }}</td>
                    <td>{{ result.obtained_marks }}</td> <!-- Replace 'field2' with the actual field name from the UploadResult model -->
                    <!-- Add more table cells for additional fields -->
                </tr>
            {% endfor %}
        </table>
        <form method="get" action="/fac_dashboard/export_csv">
            <input type="submit" value="Export as CSV">
        </form>
    {% else %}
        <p>No result data available.</p>
    {% endif %}
    </div>
{% endblock %}
